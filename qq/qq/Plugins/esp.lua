local qq = eqq -- eqq = externel qq, it exists only a few cycleslocal PlyMeta = qq.Meta.Plylocal EntMeta = qq.Meta.Entlocal VecMeta = qq.Meta.Veclocal surface = qq.GlobalCopy.surfacelocal LocalPlayer = qq.GlobalCopy.LocalPlayerlocal Plugin = {	Name = "ESP",	Alias = "esp"}Plugin.SethHackers = {}Plugin.Init = function()	qq.CreateSetting(qq.MENU_VISUALS, Plugin, "enabled", "Show Names", true)	qq.CreateSetting(qq.MENU_VISUALS, Plugin, "crosshair", "Crosshair", true)	qq.CreateSetting(qq.MENU_VISUALS, Plugin, "crosshair_space", "Crosshair Spacing", 5, {Min = 0, Max = 10})	qq.CreateSetting(qq.MENU_VISUALS, Plugin, "crosshair_size", "Crosshair Size", 10, {Min = 0, Max = 20})	qq.CreateSetting(qq.MENU_VISUALS, Plugin, "crosshair_rps", "Crosshair RPS", 0.5, {Min = -2, Max = 2, Places = 2})	qq.CreateSetting(qq.MENU_VISUALS, Plugin, "crosshair_segments", "Crosshair Segments", 4, {Min = 0, Max = 8})	qq.CreateSetting(qq.MENU_VISUALS, Plugin, "crosshair_color", "Crosshair Color", Color(255,255,255))	qq.CreateSetting(qq.MENU_VISUALS, Plugin, "track", "Entity Tracking", true)	qq.CreateSetting(qq.MENU_VISUALS, Plugin, "aimpos", "Show Aim Position", true)	qq.CreateSetting(qq.MENU_VISUALS, Plugin, "aimpossize", "Aim Position Size", 5, {Min = 0, Max = 50})	qq.CreateSetting(qq.MENU_VISUALS, Plugin, "drawaddinfo", "Show Additional info", true)		local shers = qq.Module.Read("qq/gayhackers.txt")	shers = string.Replace(shers, "\r", "\n") // \r\n to \n\n or \r to \n	shers = string.Replace(shers, "\n\n", "\n") // \n\n or \n to \n		local steamids = string.Explode("\n", shers)	local count = 0		for k,v in pairs(steamids) do		if v != "" then			count = count + 1			Plugin.SethHackers[v] = true		end	end	qq.Inform("ESP loaded {1} steamids that match SethHackers", count)endPlugin.WCOL = Color(255,255,255,255)Plugin.ESP = function(pl, count)	if not qq.Setting(Plugin, "enabled") then return end		if Plugin.SethHackers[PlyMeta.SteamID(pl)] then		local rt = RealTime()		local time = 0.2		if rt % time < time * 0.5 then return end		// If they are one, lets make the HUD for them flash really quickly	end		local lp = LocalPlayer()	if qq.IsValidTarget(pl) then		EntMeta.SetColor(pl, Plugin.WCOL)		local spos = PlyMeta.GetShootPos(pl)		pos = VecMeta.ToScreen(spos)		local col = pl.WallhackColor or team.GetColor(PlyMeta.Team(pl))		local alpha = VecMeta.Distance(spos, EntMeta.GetPos(lp))  / 3				surface.SetDrawColor(col)		if qq.Setting(Plugin, "aimpos") and qq.Plugins["aimbot"] != nil then			local AimbotPlugin = qq.Plugins["aimbot"]			local pos = AimbotPlugin.TargetPosition(pl)			local screenpos = VecMeta.ToScreen(pos)			if screenpos.x > 0 and screenpos.x < qq.ScreenSize.x and					screenpos.y > 0 and screenpos.y < qq.ScreenSize.y then				local size = qq.Setting(Plugin, "aimpossize")				surface.DrawOutlinedRect(screenpos.x - size/2, screenpos.y - size/2, size, size)			end		end				local aim = qq.AngleBetween(PlyMeta.GetAimVector(lp), VecMeta.GetNormal(spos - PlyMeta.GetShootPos(lp)))		alpha = alpha * (1 - (aim / 25))				local name = PlyMeta.Name(pl)		surface.SetFont("TabLarge")		local w,h = surface.GetTextSize(name)		pos.x = pos.x - w / 2		pos.y = pos.y - h - 5		if alpha > 0 then			surface.SetTextColor(Color(col.r, col.g, col.b, alpha))			surface.SetTextPos(pos.x, pos.y)			surface.DrawText(name)		end	endendPlugin.DrawCrossSegment = function(time, size, start) // Just a conveniance function	local x,y = qq.ScreenSize.x / 2, qq.ScreenSize.y / 2		local sin = math.sin(time)	local cos = math.cos(time)		local startx = sin * start	local endx = sin * (start + size)		local starty = cos * start	local endy = cos * (start + size)		surface.DrawLine(x + startx, y + starty, x + endx, y + endy)endlocal hitgroup_names = {	[0] = "Hitgroup: Normal",	[1] = "Hitgroup: Head",	[2] = "Hitgroup: Chest",	[3] = "Hitgroup: Stomach",	[4] = "Hitgroup: Left arm",	[5] = "Hitgroup: Right arm",	[6] = "Hitgroup: Left Leg",	[7] = "Hitgroup: Right Leg",	[8] = "Hitgroup: Weapon"}local isPlayer = EntMeta.IsPlayerlocal isNPC = EntMeta.IsNPClocal tlocal tracelocal poslocal lpPlugin.AddInfo = function()	lp = LocalPlayer()	trace = PlyMeta.GetEyeTrace(lp)	t = type(trace.Entity)	pos = VecMeta.ToScreen(trace.HitPos)	surface.SetTextColor(255, 0, 0, 255)	surface.SetFont("TabLarge")	surface.SetTextPos(pos.x+10, pos.y+20)	surface.DrawText("Speed: "..tostring(math.floor(lp:GetVelocity():Length())))	if(t == "NPC" or t == "Player") then		surface.SetTextPos(pos.x+10, pos.y+35)		surface.DrawText(hitgroup_names[trace.HitGroup])	endendPlugin.Crosshair = function()	local start = qq.Setting(Plugin, "crosshair_space")	local size = qq.Setting(Plugin, "crosshair_size")	local rps = qq.Setting(Plugin, "crosshair_rps")	local segments = qq.Setting(Plugin, "crosshair_segments")		surface.SetDrawColor(qq.Setting(Plugin, "crosshair_color"))		local time = -RealTime() * (math.pi * 2) * rps	local segmentsize = (math.pi * 2) / segments		for i = 0, segments - 1 do		local timeoffset = segmentsize * i				Plugin.DrawCrossSegment(time + timeoffset, size, start)	end		local x,y = qq.ScreenSize.x / 2, qq.ScreenSize.y / 2	surface.DrawRect(x,y,1,1)endPlugin.Classes = {	crossbow_bolt = true,	npc_grenade_frag = true,	rpg_missile = true,	prop_combine_ball = true,	grenade_ar2 = true}Plugin.Track = function(ent)	if not qq.Setting(Plugin, "track") then return end	if not ValidEntity(ent) then return end	if Plugin.Classes[EntMeta.GetClass(ent)] then		if ent.tracking == nil then			ent.StartTrack = CurTime()			ent.tracking = {}		end		local pos = EntMeta.GetPos(ent)		local time = CurTime()		if VecMeta.Length(EntMeta.GetVelocity(ent)) > 0 and ent.StartTrack then			--qq.Inform("Bolt took {1} seconds to fire", CurTime() - ent.StartTrack)			ent.StartTrack = nil		end		local tblinsert = {			Pos = pos,			Time = time		}		table.insert(ent.tracking, tblinsert)				local tracked = ent.tracking or {}		local dist = 0		for i=1,#tracked do			dist = dist + 1						local tbl = tracked[dist]			if dist > 10 and CurTime() - tbl.Time < 5 then				local pos = VecMeta.ToScreen(tbl.Pos)				local pos2 = ent.tracking[dist-1]				if pos2 and dist-1 > 10 then					pos2 = VecMeta.ToScreen(ent.tracking[dist-1].Pos)					local owner = EntMeta.GetOwner(ent)					if ValidEntity(owner) then						local tc = team.GetColor(PlyMeta.Team(owner))						surface.SetDrawColor(tc.r, tc.g, tc.b, 255)						surface.DrawLine(pos.x,pos.y,pos2.x,pos2.y)					end				end			elseif dist > 10 then				table.remove(ent.tracking, dist)				dist = dist - 1				//ent.tracking[dist] = nil			end		end	endendPlugin.HUDPaintHook = function()	if qq.Setting(Plugin, "crosshair") then		Plugin.Crosshair()	end	if(qq.Setting(Plugin, "drawaddinfo")) then		Plugin.AddInfo()	endendPlugin.Hooks = {	HUDPaintPlayer = Plugin.ESP,	HUDPaintPlayerStart = Plugin.HUDPaintHook,	HUDPaintEntity = Plugin.Track}qq.RegisterPlugin(Plugin)